#!/bin/bash

# Define the list of servers
SERVERS=("192.168.17.139" "192.168.17.142" "192.168.17.137")

# Path to cassandra.sh (Ensure this script exists on all remote servers)
SCRIPT_PATH="/opt/apache-cassandra-4.1.7/bin/cassandra"

# User to SSH into servers (change if needed)
USER="cassandra"

# Execute the script on each server in parallel
for SERVER in "${SERVERS[@]}"; do
    ssh "$USER@$SERVER" "bash $SCRIPT_PATH" &
done

# Wait for all background processes to complete
wait

echo "Script executed on all servers successfully."
